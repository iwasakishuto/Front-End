<!DOCTYPE html>
<html lang="ja">
<head>
        <meta charset="utf-8" />
        <link rel="shortcut icon" href="https://iwasakishuto.github.io/images/apple-touch-icon/front-end.png" />
        <title>JS.6 隠しコマンドで遊ぶ</title>
        <link rel="stylesheet" href="https://iwasakishuto.github.io/front-end/tips/theme/css/main.css" />
        <!-- Use fontawesome Icon -->
        <!-- Place your kit's code here -->
        <script src="https://kit.fontawesome.com/f93cd9165a.js"></script>
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.css">
        <!--<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">-->
        <!-- Syntax highlight -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/github.min.css">
        <!-- Custom CSS -->
        <link rel="stylesheet" type="text/css" href="https://iwasakishuto.github.io/css/custom.css" media="screen">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <!-- LaTex -->
        <!-- Github env -->
        <!--<script type="text/javascript" async src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>-->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_CHTML"></script>
        <script type="text/x-mathjax-config">
        	MathJax.Hub.Config({
        		tex2jax: {
        			inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        			displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
        		}
        	});
        </script>
        <!-- Mermaid -->
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" charset="UTF-8"></script>
        <script>
          mermaid.initialize({
            startOnLoad:true
          });
        </script>

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://iwasakishuto.github.io/front-end/tips/">Front-End </a></h1>
                <nav><ul>
                    <li class="active"><a href="https://iwasakishuto.github.io/front-end/tips/category/javascript.html">JavaScript</a></li>
                </ul>
<form id="search" action"#" onsubmit="javascript:window.open('https://duckduckgo.com/?q='+document.getElementById('keywords').value+'+site:https://iwasakishuto.github.io/front-end/tips');">
                        <input id="keywords" type="text" />
                    </form>
                </nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://iwasakishuto.github.io/front-end/tips/JavaScript-6.html" rel="bookmark"
           title="Permalink to JS.6 隠しコマンドで遊ぶ">JS.6 隠しコマンドで遊ぶ</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <span>2019-06-09(日)</span>
<span>| tags: <a href="https://iwasakishuto.github.io/front-end/tips/tag/javascript.html">JavaScript</a></span>
</footer><!-- /.post-info -->      <h1>JS.6 隠しコマンドで遊ぶ</h1>
<p><code>JavaScript</code>を使うと隠しコマンドで遊べると聞いたので、試しに遊んで見ました。</p>
<p>また、<a href="https://fontbomb.ilex.ca/"><code>fontBomb</code></a>という、テキスト（フォント）を時限爆弾で爆発させるスクリプトを使って遊んでも見たので、隠しコマンドがわかった人はそれでも遊んでみてください！！</p>
<p>ちなみに、隠しコマンドは僕の名前（<code>Lastname</code>,<code>Firstname</code>）です。（間に何もいりません。）</p>
<h2>作ったもの</h2>
<p>隠しコマンドを解けば、ここにある歌の歌詞が出てきます。その曲を選んだのは僕が好きだからですが、<a href="https://www.youtube.com/watch?v=JGwWNGJdvx8">公式MV</a>に出てくる女性はめちゃめちゃ鍛えた体してるのにボクシングのパンチがありえん棒立ちでちょっと残念なので、ぜひ見てみてください！（男性の方は普通に上手です。）</p>
<p>ちなみに、僕は普通のものよりピッチやテンポを上げたアレンジ版の方が好きです。</p>
<div id="shape-of-you" style="visibility: hidden;">
  <h1>Shape of You</h1>
  <h2>Ed Sheeran</h2>
  <h3>[Verse 1]</h3>
  The club isn't the best place to find a lover
  <br>So the bar is where I go
  <br>Me and my friends at the table doing shots
  <br>Drinking fast and then we talk slow
  <br>And you come over and start up a conversation with just me
  <br>And trust me I'll give it a chance now
  <br>Take my hand, stop, put Van the Man on the jukebox
  <br>And then we start to dance, and now I'm singing like
  <h3>[Pre-Chorus]</h3>
  Girl, you know I want your love
  <br>Your love was handmade for somebody like me
  <br>Come on now, follow my lead
  <br>I may be crazy, don't mind me
  <br>Say, boy, let's not talk too much
  <br>Grab on my waist and put that body on me
  <br>Come on now, follow my lead
  <br>Come, come on now, follow my lead
  <h3>[Chorus]</h3>
  I'm in love with the shape of you
  <br>We push and pull like a magnet do
  <br>Although my heart is falling too
  <br>I'm in love with your body
  <br>And last night you were in my room
  <br>And now my bed sheets smell like you
  <br>Every day discovering something brand new
  <br>I'm in love with your body
  <br>Oh—I—oh—I—oh—I—oh—I
  <br>I'm in love with your body
  <br>Oh—I—oh—I—oh—I—oh—I
  <br>I'm in love with your body
  <br>Oh—I—oh—I—oh—I—oh—I
  <br>I'm in love with your body
  <br>Every day discovering something brand new
  <br>I'm in love with the shape of you
  <h3>[Verse 2]</h3>
  One week in we let the story begin
  <br>We're going out on our first date
  <br>You and me are thrifty, so go all you can eat
  <br>Fill up your bag and I fill up a plate
  <br>We talk for hours and hours about the sweet and the sour
  <br>And how your family is doing okay
  <br>Leave and get in a taxi, then kiss in the backseat
  <br>Tell the driver make the radio play, and I'm singing like
  <h3>[Pre-Chorus]</h3>
  Girl, you know I want your love
  <br>Your love was handmade for somebody like me
  <br>Come on now, follow my lead
  <br>I may be crazy, don't mind me
  <br>Say, boy, let's not talk too much
  <br>Grab on my waist and put that body on me
  <br>Come on now, follow my lead
  <br>Come, come on now, follow my lead
  <h3>[Chorus]</h3>
  I'm in love with the shape of you
  <br>We push and pull like a magnet do
  <br>Although my heart is falling too
  <br>I'm in love with your body
  <br>And last night you were in my room
  <br>And now my bed sheets smell like you
  <br>Every day discovering something brand new
  <br>I'm in love with your body
  <br>Oh—I—oh—I—oh—I—oh—I
  <br>I'm in love with your body
  <br>Oh—I—oh—I—oh—I—oh—I
  <br>I'm in love with your body
  <br>Oh—I—oh—I—oh—I—oh—I
  <br>I'm in love with your body
  <br>Every day discovering something brand new
  <br>I'm in love with the shape of you
  <h3>[Bridge]</h3>
  Come on, be my baby, come on
  <br>Come on, be my baby, come on
  <br>Come on, be my baby, come on
  <br>Come on, be my baby, come on
  <br>Come on, be my baby, come on
  <br>Come on, be my baby, come on
  <br>Come on, be my baby, come on
  <br>Come on, be my baby, come on
  <h3>[Chorus]</h3>
  I'm in love with the shape of you
  <br>We push and pull like a magnet do
  <br>Although my heart is falling too
  <br>I'm in love with your body
  <br>Last night you were in my room
  <br>And now my bed sheets smell like you
  <br>Every day discovering something brand new
  <br>I'm in love with your body
  <br>Come on, be my baby, come on
  <br>Come on, be my baby, come on
  <br>I'm in love with your body
  <br>Come on, be my baby, come on
  <br>Come on, be my baby, come on
  <br>I'm in love with your body
  <br>Come on, be my baby, come on
  <br>Come on, be my baby, come on
  <br>I'm in love with your body
  <br>Every day discovering something brand new
  <br>I'm in love with the shape of you
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script>
  $(function() {
    var inputKey = [];
    var Command = [73,87,65,83,65,75,73,83,72,85,84,79];
    var fontbomb_script = document.createElement('script');
    $(window).keyup(function(e) {
      inputKey.push(e.keyCode);
      // 入力配列にコマンドがあるかを調べる。存在しなければ-1を返す。
      if (inputKey.toString().indexOf(Command) >= 0) {
          //隠しコマンド成功時
          alert("コマンド発動！！");
          // cssにbackground-imageを記述したクラスを追加(これで背景を変える。)
          $("#shape-of-you").addClass('shape-of-you');
          document.querySelector('#shape-of-you').style.visibility = "visible";
          // fontbombをscriptに追加
          var s = document.createElement('script');
          s.setAttribute('src', 'https://iwasakishuto.github.io/js/fontbomb.js');
          document.body.appendChild(s);

          //キー入力を初期化
          inputKey = [];
      }
      if (inputKey.length >= 1000){
        alert("かなり頑張ってますね笑\n処理速度を上げるために初期化しますね！");
        inputKey = [];
      }
    });
  });
</script>

<style>
  .shape-of-you {
    background-color: rgb(170, 220, 230);
    background-size:contain;
    width:100%;
  }
</style>

<h2>コード</h2>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;shape-of-you&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;visibility: hidden;&quot;</span><span class="p">&gt;</span>
  <span class="c">&lt;!-- ここに隠しコマンド後に表示させる要素をかく --&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">inputKey</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">var</span> <span class="nx">Command</span> <span class="o">=</span> <span class="p">[</span><span class="mi">73</span><span class="p">,</span><span class="mi">87</span><span class="p">,</span><span class="mi">65</span><span class="p">,</span><span class="mi">83</span><span class="p">,</span><span class="mi">65</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mi">73</span><span class="p">,</span><span class="mi">83</span><span class="p">,</span><span class="mi">72</span><span class="p">,</span><span class="mi">85</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">79</span><span class="p">];</span>

  <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">keyup</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">inputKey</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span><span class="p">);</span>
    <span class="c1">// 入力配列にコマンドがあるかを調べる。存在しなければ-1を返す。</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">inputKey</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">Command</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//隠しコマンド成功時</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;コマンド発動！！&quot;</span><span class="p">);</span>
        <span class="c1">// cssにbackground-imageを記述したクラスを追加(これで背景を変える。)</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#shape-of-you&quot;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;shape-of-you&#39;</span><span class="p">);</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#shape-of-you&#39;</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">visibility</span> <span class="o">=</span> <span class="s2">&quot;visible&quot;</span><span class="p">;</span>
        <span class="c1">// fontBombのスクリプトをコピー</span>
        <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span>
        <span class="nx">s</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;http://fontbomb.ilex.ca/js/main.js&#39;</span><span class="p">);</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>

        <span class="c1">//キー入力を初期化</span>
        <span class="nx">inputKey</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">inputKey</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;=</span> <span class="mi">1000</span><span class="p">){</span>
      <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;かなり頑張ってますね笑\n処理速度を上げるために初期化しますね！&quot;</span><span class="p">);</span>
      <span class="nx">inputKey</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
  <span class="p">.</span><span class="nc">shape-of-you</span> <span class="p">{</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="nb">rgb</span><span class="p">(</span><span class="mi">170</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">230</span><span class="p">);</span>
    <span class="k">background-size</span><span class="p">:</span><span class="kc">contain</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</pre></div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="https://iwasakishuto.github.io">Home</a></li>
                            <li><a href="https://iwasakishuto.github.io/blog/articles/index.html">Blog</a></li>
                            <li><a href="https://iwasakishuto.github.io/University/index.html">University</a></li>
                            <li><a href="https://iwasakishuto.github.io/Kerasy/doc/index.html">Kerasy</a></li>
                            <li><a href="https://iwasakishuto.github.io/front-end/tips/index.html">Front-End</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><img src="https://iwasakishuto.github.io/front-end/tips/them/images/icons/twitter.png"><a href="https://twitter.com/cabernet_rock">twitter</a></li>
                            <li><img src="https://iwasakishuto.github.io/front-end/tips/them/images/icons/github.png"><a href="https://github.com/iwasakishuto">github</a></li>
                            <li><img src="https://iwasakishuto.github.io/front-end/tips/them/images/icons/facebook.png"><a href="https://www.facebook.com/iwasakishuto">facebook</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme <a href="https://github.com/blueicefield/pelican-blueidea/">blueidea</a>, inspired by the default theme.</p>
        </footer><!-- /#contentinfo -->

</body>
</html>