<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Shuto" />
    <meta name="twitter:creator" content="@cabernet_rock">
    <meta name="twitter:site" content="@cabernet_rock">
    <meta property="og:type" content="article" />
    <meta name="twitter:card" content="summary">
    <meta name="keywords" content="JavaScript, pokemon, JavaScript, " />
    <meta property="og:image" content="https://www.pokemon.co.jp/img/game/emerald/pho_main.jpg"/>
    <meta property="og:title" content="JS.28 ポケモンエメラルドでフロンティア マスターを目指す（その３） "/>
    <meta property="og:url" content="https://iwasakishuto.github.io/Front-End/tips/JavaScript-28.html" />
    <meta property="og:description" content="ポケモンエメラルドでフロンティア マスターを目指す（その３）" />
    <meta property="og:site_name" content="Shuto&#39;s Front-End" />
    <meta property="og:article:author" content="Shuto" />
    <meta property="og:article:published_time" content="2021-02-21T00:00:00+09:00" />
    <meta property="og:article:modified_time" content="2020-02-21T00:00:00+09:00" />
    <meta name="twitter:title" content="JS.28 ポケモンエメラルドでフロンティア マスターを目指す（その３） ">
    <meta name="twitter:description" content="ポケモンエメラルドでフロンティア マスターを目指す（その３）">
    <title>JS.28 ポケモンエメラルドでフロンティア マスターを目指す（その３）</title>
    <link rel="stylesheet" href="https://iwasakishuto.github.io/Front-End/tips/theme/css/main.css" />
    <!-- Added by Shuto Iwasaki. -->
    <link rel="shortcut icon" href="https://iwasakishuto.github.io/images/apple-touch-icon/Front-End.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="https://iwasakishuto.github.io/images/apple-touch-icon/Front-End.png" type="image/png" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://iwasakishuto.github.io/css/custom.css" media="screen">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script type="text/javascript" async src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_CHTML"></script>
    <script type="text/x-mathjax-config">
    	MathJax.Hub.Config({
    		tex2jax: {
    			inlineMath: [ ['$','$'], ["\\(","\\)"] ],
    			displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
    		}
    	});
    </script>
    <!-- Mermaid -->
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" charset="UTF-8"></script>
    <script>
      mermaid.initialize({
        startOnLoad:true
      });
    </script>
    <!--[if IE]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body id="index" class="home">
    <header id="banner" class="body">
      <h1><a href="https://iwasakishuto.github.io/Front-End/tips/">Shuto's Front-End </a></h1>
      <nav>
        <ul>
          <li><a href="https://iwasakishuto.github.io/Front-End/tips/category/css.html">CSS</a></li>
          <li><a href="https://iwasakishuto.github.io/Front-End/tips/category/html.html">HTML</a></li>
          <li class="active"><a href="https://iwasakishuto.github.io/Front-End/tips/category/javascript.html">JavaScript</a></li>
        </ul>
        <form id="search" action"#" onsubmit="javascript:window.open('https://duckduckgo.com/?q='+document.getElementById('keywords').value+'+site:https://iwasakishuto.github.io/Front-End/tips');">
          <input id="keywords" type="text" />
        </form>
      </nav>
    </header><!-- /#banner -->
    <div id="loading" style="display: none;">
      <div class="loading_wrapper">
        <img class="loading_img" src="https://iwasakishuto.github.io/Front-End/tips/images/Bean Eater-1s-400px.gif">
        <p class="loading_info">Loading...</p>
      </div>
    </div>
    <section id="content" class="body" style="display: block;">
      <article>
        <header>
          <h1 class="entry-title">
            <a href="https://iwasakishuto.github.io/Front-End/tips/JavaScript-28.html" rel="bookmark" title="Permalink to JS.28 ポケモンエメラルドでフロンティア マスターを目指す（その３）">JS.28 ポケモンエメラルドでフロンティア マスターを目指す（その３）</a>
          </h1>
          <a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="cabernet_rock">Tweet</a>
          <script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script>
        </header>
    
        <div class="entry-content">
          <footer class="post-info">
            <span>2021-02-21(Sun)</span>
            <span>| tags: <a href="https://iwasakishuto.github.io/Front-End/tips/tag/javascript.html">JavaScript</a>, <a href="https://iwasakishuto.github.io/Front-End/tips/tag/pokemon.html">pokemon</a></span>
          </footer><!-- /.post-info -->
          <h2>フロンティア マスターへの道 〜施設を知る〜</h2>

          <p>今回は、フロンティア内の7つの施設ごとのルールを確認しつつ、各施設を攻略する上で便利なツール群を作成します。</p>

          <p>見たい施設のタイトルをクリックして、各ツールを利用してください！！</p>

          <p style="color:red">※ 今回の記事も完全に自己満ツール群です🙇‍♂️多分これで終わりです。</p>

          <form id="mypoke_form" name="MYPOKE">
            <h2>自分のポケモン</h2>
            <p>以下の表で自分のポケモンを設定してください。なお、レベルはバトルフロンティアのポケモンと共通しています。</p>
            <table class="fixed" id="my-pokemon">
              <thead><tr><th colspan="7"><label>自分のポケモン（Lv: <input id="lv" type="number" min="1" max="100" value="50" size="3" name="LV">）</label></th></tr></thead>
              <tbody>
                <tr class="g1">
                  <td colspan="3">ポケモン</td>
                  <td colspan="4"><select id="poke_name" name="poke"></select></td>
                </tr>
                <tr class="g1">
                  <td colspan="3">とくせい</td>
                  <td colspan="4"><select id="ability" name="ability"><option>----</option></select></td>
                </tr>
                <tr>
                  <td colspan="3">性別</td>
                  <td colspan="4"><select id="sex" name="sex"><option>--</option></select></td>
                </tr>
                <tr class="g2">
                  <td colspan="3">性格</td>
                  <td colspan="4"><select id="seikaku" name="seikaku"><option value="1">さみしがり (A↑ B↓)</option><option value="3">いじっぱり (A↑ C↓)</option><option value="4">やんちゃ　 (A↑ D↓)</option><option value="2">ゆうかん　 (A↑ S↓)</option><option value="5">ずぶとい　 (B↑ A↓)</option><option value="8">わんぱく　 (B↑ C↓)</option><option value="9">のうてんき (B↑ D↓)</option><option value="7">のんき　　 (B↑ S↓)</option><option value="15" selected>ひかえめ　 (C↑ A↓)</option><option value="16">おっとり　 (C↑ B↓)</option><option value="19">うっかりや (C↑ D↓)</option><option value="17">れいせい　 (C↑ S↓)</option><option value="20">おだやか　 (D↑ A↓)</option><option value="21">おとなしい (D↑ B↓)</option><option value="23">しんちょう (D↑ C↓)</option><option value="22">なまいき　 (D↑ S↓)</option><option value="10">おくびょう (S↑ A↓)</option><option value="11">せっかち　 (S↑ B↓)</option><option value="13">ようき　　 (S↑ C↓)</option><option value="14">むじゃき　 (S↑ D↓)</option><option value="18">てれや　　 </option><option value="0">がんばりや </option><option value="6">すなお　　 </option><option value="24">きまぐれ　 </option><option value="12">まじめ　　 </option></select></td>
                </tr>
              </tbody>
              <thead>
                <tr>
                  <th><div class='overflow-ms'><img></div></th><th>H</th><th>A</th><th>B</th><th>C</th><th>D</th><th>S</th>
                </tr>
              </thead>
              <tbody>
                <tr class="only-text">
                  <td>種族値</td><td></td><td></td><td></td><td></td><td></td><td></td>
                </tr>
                <tr class="g2">
                  <td>個体値</td>
                  <td><input type="number" min="0" max="31"  value="31" size="3" name="iH"></td>
                  <td><input type="number" min="0" max="31"  value="31" size="3" name="iA"></td>
                  <td><input type="number" min="0" max="31"  value="31" size="3" name="iB"></td>
                  <td><input type="number" min="0" max="31"  value="31" size="3" name="iC"></td>
                  <td><input type="number" min="0" max="31"  value="31" size="3" name="iD"></td>
                  <td><input type="number" min="0" max="31"  value="31" size="3" name="iS"></td>
                </tr>
                <tr class="g2">
                  <td>努力値</td>
                  <td><input type="number" min="0" max="255" value="0" size="3" name="eH"></td>
                  <td><input type="number" min="0" max="255" value="0" size="3" name="eA"></td>
                  <td><input type="number" min="0" max="255" value="0" size="3" name="eB"></td>
                  <td><input type="number" min="0" max="255" value="0" size="3" name="eC"></td>
                  <td><input type="number" min="0" max="255" value="0" size="3" name="eD"></td>
                  <td><input type="number" min="0" max="255" value="0" size="3" name="eS"></td>
                </tr>
                <tr class="g1 only-text">
                  <td>実数値</td>
                  <td><input type="number" min="1" max="999" value="1" size="3" name="H"></td>
                  <td><input type="number" min="1" max="999" value="1" size="3" name="A"></td>
                  <td><input type="number" min="1" max="999" value="1" size="3" name="B"></td>
                  <td><input type="number" min="1" max="999" value="1" size="3" name="C"></td>
                  <td><input type="number" min="1" max="999" value="1" size="3" name="D"></td>
                  <td><input type="number" min="1" max="999" value="1" size="3" name="S"></td>
                </tr>
              </tbody>
            </table>  
          </form>

          <!-- Battle Tower -->

          <details>
            <summary class="h2">バトルタワー</summary>
            <details>
              <summary class="h3">ルール</summary>
              出典：<a href="https://wiki.xn--rckteqa2e.com/wiki/バトルタワー_(第三世代)">ポケモンWiki</a>
              <div class="rule"><ul>
                <li>シングルバトル、ダブルバトル、マルチバトル、マルチつうしんバトルができる。</li>
                <li>LV50とオープンレベル(最低Lv60)が選択できる。</li>
                <li>35戦目と70戦目にフロンティアブレーンのリラとのバトルとなる。</li>
              </ul></div>
            </details>
            <form id="tower_form" name="TOWER">
            </form>
          </details>

          <!-- Battle Dome -->

          <details>
            <summary class="h2">バトルドーム</summary>
            <details>
              <summary class="h3">ルール</summary>
              出典：<a href="https://wiki.xn--rckteqa2e.com/wiki/バトルドーム">ポケモンWiki</a>
              <div class="rule"><ul>
                <li>手持ちポケモンから3匹を選択して参加。</li>
                <li>16人が参加するトーナメントを勝ち抜く。つまり4回勝てば優勝。</li>
                <li>試合前に対戦相手のポケモン・強さ・戦法・大まかな能力値が表示された対戦カードを見ることができる。</li>
                <li>カードの情報をもとに、3匹の手持ちから試合に出す2匹を選択してバトル開始。</li>
                <li>ダブルノックアウトで試合が終了した場合、ランキングの高い方が勝利となる。</li>
                <li>4連勝で1周。5周目と10周目の決勝戦にはドームスーパースターのヒースが登場する。</li>
              </ul></div>
            </details>
            <form id="dome_form" name="DOME">
            </form>
          </details>

          <!-- Battle Factory -->

          <details>
            <summary class="h2">バトルファクトリー</summary>
            <details>
              <summary class="h3">ルール</summary>
              出典：<a href="https://wiki.xn--rckteqa2e.com/wiki/バトルファクトリー_(第三世代)">ポケモンWiki</a>
              <div class="rule"><ul>
                <li>ファクトリーでは自分の手持ちは使わず、レンタルポケモンを使ってバトルする。はじめに、表示される6匹のレンタルポケモンのうち3匹を選択し、手持ちとする。以後、そのポケモンで敵トレーナーと戦って勝てば、任意で敵トレーナーとポケモンを1匹交換することができる。</li>
                <li>ポケモンバトルの前にヒントを教えてもらえる。内容は相手のポケモンの中で重複しているタイプと、相手の大まかな戦型である。</li>
                <li>バトルの合間にポケモンの並び替えはできない。</li>
                <li>7人抜きで1周。3周目と6周目の最後にはダツラとのバトルになる。</li>
                <li>1周ごとにレンタルポケモンはリセットされる。次の周回では1からレンタルしなおすことになる。</li>
              </ul></div>
            </details>  
            <form id="factory_form" name="FACTORY">
              <details>
                <summary class="h3">レンタルポケモン</summary>
                <p>一覧は、<a href="https://iwasakishuto.github.io/Front-End/tips/JavaScript-27.html">JS.27 ポケモンエメラルドでフロンティア マスターを目指す（その２）</a>を参照。</p>
                <table id="rental-pokemon-form" class="fixed">
                  <thead><tr><th colspan="4">ファクトリーの設定</th></tr></thead>
                  <tbody>
                    <tr><td>連勝数</td><td class="g1"><select name="winStreak"><option value="0">0 ~ 7</option><option value="1">7 ~ 14</option><option value="2">14 ~ 21</option><option value="3">21 ~ 28</option><option value="4">28 ~ 35</option><option value="5">35 ~ 42</option><option value="6">42 ~ 49</option><option value="7">49 ~ 56</option><option value="8" selected>56 ~</option></select></td><td>challengeNum</td><td id="challengeNum"></td></tr>
                    <tr><td>交換数</td><td class="g1"><select name="rentalCount"><option value="0">0 ~ 14</option><option value="1">15 ~ 21</option><option value="2">22 ~ 28</option><option value="3">29 ~ 35</option><option value="4">36 ~ 42</option><option value="5">43 ~</option></select></td><td>rentalRank</td><td id="rentalRank"></td></tr>
                    <tr><td>Lv モード</td><td class="g1"><select name="LvlMode"><option value="0">Lv.50</option><option value="8">LV.OPEN</option></select></td><td>出現ポケモン</td><td id="monRange"></td></tr>
                  </tbody>
                </table>
                <div style="width:100%; overflow:auto;" id="rental-pokemon-wrapper">
                </div>
                <table id="selected-rental-pokemon" class="fixed">
                  <thead id="selected-rental-pokemon-images"><tr><th><div class="overflow-ms"><img src=""></div></th><th><div class="overflow-ms"><img src=""></div></th><th><div class="overflow-ms"><img src=""></div></th><th><div class="overflow-ms"><img src=""></div></th><th><div class="overflow-ms"><img src=""></div></th><th><div class="overflow-ms"><img src=""></div></th></tr></thead>
                  <tbody>
                    <tr><td colspan="3">[ボックス1]</td><td colspan="3">[にえィす　もけぬ]</td></tr>
                    <tr><td colspan="3">[ボックス2]</td><td colspan="3">[い　ゆｚ　　　ビ]</td></tr>
                    <tr><td colspan="3">[ボックス3]</td><td colspan="3">[にえィか　　　ビ]</td></tr>
                    <tr><td colspan="3">[ボックス4]</td><td colspan="3">[ゆｚ　]</td></tr>
                    <tr><td colspan="3">[ボックス5]</td><td colspan="3">[かッンＮテぞさタ]</td></tr>
                    <tr><td colspan="3">[ボックス6]</td><td colspan="3">[アぃＢＦＣ]</td></tr>
                    <tr><td colspan="3">[ボックス7]</td><td colspan="3">不問</td></tr>
                    <tr><td colspan="3">[ボックス8]</td><td colspan="3">[アｌコ　う]</td></tr>
                    <tr class="g2"><td colspan="3">[ボックス9]</td><td id="factory_box9" colspan="3">[①②③④❶❷❸❹]</td></tr>
                    <tr><td rowspan="2">seed</td><td class="g1"><input type="number" min="0" max="4294967296" value="0" size="3" name="lb"></td><td>~</td><td class="g1"><input type="number" min="0" max="4294967296" value="1000000" size="3" name="ub"></td><td colspan="2"><a class="btn--click btn--shadow btn--red" onclick="find_desired_rental_seed(document.FACTORY)">Find a desired SEED</a></td></tr>
                    <tr><td class="g1" colspan="3"><input type="number" min="0" max="4294967296" value="0" size="3" name="frontierSeed"></td><td colspan="2"><a class="btn--click btn--shadow btn--blue" onclick="generate_rental_pokemon(document.FACTORY)">Generate rental Poke</a></td></tr>
                    <tr id="generated_rental_party"><td><div class="overflow-ms"><img src=""></div></td><td><div class="overflow-ms"><img src=""></div></td><td><div class="overflow-ms"><img src=""></div></td><td><div class="overflow-ms"><img src=""></div></td><td><div class="overflow-ms"><img src=""></div></td><td><div class="overflow-ms"><img src=""></div></td></tr>
                  </tbody>
                </table>
              </details>
            </form>
          </details>

          <!-- Battle Palace -->

          <details>
            <summary class="h2">バトルパレス</summary>
            <details>
              <summary class="h3">ルール</summary>
              出典：<a href="https://wiki.xn--rckteqa2e.com/wiki/バトルパレス">ポケモンWiki</a>
              <div class="rule"><ul>
                <li>バトルパレスではトレーナーはポケモンに一切の指示を出すことができない。ただし、ポケモンチェンジはトレーナーの判断で行える。</li>
                <li>繰り出す技はポケモン自身が考える。</li>
                <li>ポケモンの性格によって好むわざの種類が異なる。</li>
                <li>7 連勝で1周。3周目と6周目の最後にはウコンとのバトルになる。</li>
              </ul></div>
            </details>
            <form id="palace_form" name="PALACE">
              <details>
                <summary class="h3">技の区表</summary>
                <div style="width:100%;height:480px;overflow:auto;">
                  <table id="move_list">
                    <thead>
                      <tr><th colspan="5">
                        <label><input type="checkbox" name="palace_move_class" checked>攻撃技</label>
                        <label><input type="checkbox" name="palace_move_class" checked>防御技</label>
                        <label><input type="checkbox" name="palace_move_class" checked>補助技</label>
                      </th></tr>
                      <tr><th></td><th>技</td><th>タイプ</td><th>威力</td><th>区分</td></tr>
                    </thead>
                    <tbody><tr>
                    </tr></tbody>
                  </table>
                </div>
              </details>
              <details>
                <summary class="h3">性格別の傾向</summary>
                <div style="width:100%;height:480px;overflow:auto;">
                  <table id="seikaku_trend">
                    <thead>
                      <tr><th></th><th colspan="3">通常時</th><th colspan="3">HP減少時</th></tr>
                      <tr><th>せいかく</th><th>攻撃</th><th>防御</th><th>補助</th><th>攻撃</th><th>防御</th><th>補助</th></tr>
                    </thead>
                    <tbody>
                      <tr><th>さみしがり (A↑ B↓)</th><td class="gp3">20%</td><td class="gp3">25%</td><td class="gp3">55%</td><td class="gp1">84%</td><td class="gp1">8%</td><td class="gp1">8%</td></tr>
                      <tr><th>いじっぱり (A↑ C↓)</th><td class="gp1">38%</td><td class="gp1">31%</td><td class="gp1">31%</td><td class="gp1">70%</td><td class="gp1">15%</td><td class="gp1">15%</td></tr>
                      <tr><th>やんちゃ　 (A↑ D↓)</th><td class="gp2">20%</td><td class="gp2">70%</td><td class="gp2">10%</td><td class="gp1">70%</td><td class="gp1">22%</td><td class="gp1">8%</td></tr>
                      <tr><th>ゆうかん　 (A↑ S↓)</th><td class="gp1">70%</td><td class="gp1">15%</td><td class="gp1">15%</td><td class="gp2">32%</td><td class="gp2">60%</td><td class="gp2">8%</td></tr>
                      <tr><th>ずぶとい　 (B↑ A↓)</th><td class="gp3">30%</td><td class="gp3">20%</td><td class="gp3">50%</td><td class="gp2">32%</td><td class="gp2">58%</td><td class="gp2">10%</td></tr>
                      <tr><th>わんぱく　 (B↑ C↓)</th><td class="gp1">69%</td><td class="gp1">6%</td><td class="gp1">25%</td><td class="gp2">28%</td><td class="gp2">55%</td><td class="gp2">17%</td></tr>
                      <tr><th>のうてんき (B↑ D↓)</th><td class="gp3">35%</td><td class="gp3">10%</td><td class="gp3">55%</td><td class="gp3">29%</td><td class="gp3">6%</td><td class="gp3">65%</td></tr>
                      <tr><th>のんき　　 (B↑ S↓)</th><td class="gp3">25%</td><td class="gp3">15%</td><td class="gp3">60%</td><td class="gp1">75%</td><td class="gp1">15%</td><td class="gp1">10%</td></tr>
                      <tr><th>ひかえめ　 (C↑ A↓)</th><td class="gp2">35%</td><td class="gp2">45%</td><td class="gp2">20%</td><td class="gp2">34%</td><td class="gp2">60%</td><td class="gp2">6%</td></tr>
                      <tr><th>おっとり　 (C↑ B↓)</th><td class="gp2">44%</td><td class="gp2">50%</td><td class="gp2">6%</td><td class="gp3">34%</td><td class="gp3">6%</td><td class="gp3">60%</td></tr>
                      <tr><th>うっかりや (C↑ D↓)</th><td class="gp3">30%</td><td class="gp3">13%</td><td class="gp3">57%</td><td class="gp3">27%</td><td class="gp3">6%</td><td class="gp3">67%</td></tr>
                      <tr><th>れいせい　 (C↑ S↓)</th><td class="gp1">56%</td><td class="gp1">22%</td><td class="gp1">22%</td><td class="gp1">56%</td><td class="gp1">22%</td><td class="gp1">22%</td></tr>
                      <tr><th>おだやか　 (D↑ A↓)</th><td class="gp2">40%</td><td class="gp2">50%</td><td class="gp2">10%</td><td class="gp2">25%</td><td class="gp2">62%</td><td class="gp2">13%</td></tr>
                      <tr><th>おとなしい (D↑ B↓)</th><td class="gp2">18%</td><td class="gp2">70%</td><td class="gp2">12%</td><td class="gp1">90%</td><td class="gp1">5%</td><td class="gp1">5%</td></tr>
                      <tr><th>しんちょう (D↑ C↓)</th><td class="gp2">42%</td><td class="gp2">50%</td><td class="gp2">8%</td><td class="gp3">42%</td><td class="gp3">5%</td><td class="gp3">53%</td></tr>
                      <tr><th>なまいき　 (D↑ S↓)</th><td class="gp1">88%</td><td class="gp1">6%</td><td class="gp1">6%</td><td class="gp3">22%</td><td class="gp3">20%</td><td class="gp3">58%</td></tr>
                      <tr><th>おくびょう (S↑ A↓)</th><td class="gp1">62%</td><td class="gp1">10%</td><td class="gp1">28%</td><td class="gp3">30%</td><td class="gp3">20%</td><td class="gp3">50%</td></tr>
                      <tr><th>せっかち　 (S↑ B↓)</th><td class="gp1">58%</td><td class="gp1">37%</td><td class="gp1">5%</td><td class="gp1">88%</td><td class="gp1">6%</td><td class="gp1">6%</td></tr>
                      <tr><th>ようき　　 (S↑ C↓)</th><td class="gp3">35%</td><td class="gp3">5%</td><td class="gp3">60%</td><td class="gp2">35%</td><td class="gp2">60%</td><td class="gp2">5%</td></tr>
                      <tr><th>むじゃき　 (S↑ D↓)</th><td class="gp1">56%</td><td class="gp1">22%</td><td class="gp1">22%</td><td class="gp1">56%</td><td class="gp1">22%</td><td class="gp1">22%</td></tr>
                      <tr><th>てれや　　 </th><td class="gp2">30%</td><td class="gp2">58%</td><td class="gp2">12%</td><td class="gp2">30%</td><td class="gp2">58%</td><td class="gp2">12%</td></tr>
                      <tr><th>がんばりや </th><td class="gp1">61%</td><td class="gp1">7%</td><td class="gp1">32%</td><td class="gp1">61%</td><td class="gp1">7%</td><td class="gp1">32%</td></tr>
                      <tr><th>すなお　　 </th><td class="gp1">56%</td><td class="gp1">22%</td><td class="gp1">22%</td><td class="gp1">56%</td><td class="gp1">22%</td><td class="gp1">22%</td></tr>
                      <tr><th>きまぐれ　 </th><td class="gp1">56%</td><td class="gp1">22%</td><td class="gp1">22%</td><td class="gp1">56%</td><td class="gp1">22%</td><td class="gp1">22%</td></tr>
                      <tr><th>まじめ　　 </th><td class="gp3">34%</td><td class="gp3">11%</td><td class="gp3">55%</td><td class="gp3">29%</td><td class="gp3">11%</td><td class="gp3">60%</td></tr>
                    </tbody>
                  </table>
                </div>
              </details>
            </form>
          </details>

          <!-- Battle Tube -->

          <details>
            <summary class="h2">バトルチューブ</summary>
            <details>
              <summary class="h3">ルール</summary>
              出典：<a href="https://wiki.xn--rckteqa2e.com/wiki/バトルチューブ">ポケモンWiki</a>
              <div class="rule"><ul>
                <li>手持ちポケモン3匹で参加。部屋の奥にある3つの扉から1つを選んで進む。そしてその部屋の中で起こる様々なイベントを突破し、チューブの出口までたどり着けばクリア。</li>
                <li>扉の先でどんなイベントが起こるかは完全にランダム。ただし、3つの扉を選ぶ部屋にはメイドが立っており、彼女の発言からある程度の推測は立てられる。</li>
                <li>戦闘後のポケモンの回復は行われない。回復するには特定のイベントを発生させる必要がある。</li>
                <li>オボンのみなど消費系の道具をポケモンに持たせて使った場合、戦闘後には道具は復活しない。チューブを突破するかリタイアすれば元に戻る。</li>
                <li>14部屋突破で1周。2周目と10周目の最後にはアザミとのバトルになる。</li>
              </ul></div>
            </details>
            <form id="tube_form" name="TUBE">
            </form>
          </details>

          <!-- Battle Arena -->

          <details>
            <summary class="h2">バトルアリーナ</summary>
            <details>
              出典：<a href="https://wiki.xn--rckteqa2e.com/wiki/バトルアリーナ">ポケモンWiki</a>
              <summary class="h3">ルール</summary>
              <div class="rule"><ul>
                <li>手持ちポケモンから3匹を選択して参加。試合形式はシングルバトルのみ。</li>
                <li>バトルアリーナではポケモンチェンジを行うことができない。ポケモンが倒れたときは次に出すポケモンを選択することはできず、必ず最初に決めた順番でポケモンを繰り出していく。</li>
                <li>バトンタッチ・ほえる・ふきとばしは必ず失敗する。</li>
                <li>3ターン以内に互いのポケモンを倒せなかった場合は、勝負は判定に持ち込まれる。ここで判定負けしたポケモンはひんし扱いとなる。</li>
                <li>判定で引き分けになった場合、両方のポケモンがひんし扱いとなる。</li>
                <li>試合中に道具は使用できないが、ポケモンに道具を持たせておくのはよい。</li>
                <li>1試合ごとにポケモンを全回復してもらえる。</li>
                <li>7試合で1周。4周目と8周目の最後にはコゴミが登場する。</li>
                <li>バトルアリーナの判定においては、次の3つの観点で戦いが評価され、それぞれの評価を比較し、相手より評価が高ければ○(2点)、相手と同じ評価なら△(1点)、相手より評価が低ければ×(0点)とする。この合計点の多い方が判定での勝者となる。
                <ul>
                  <li>心：「攻める心を見せた者」。攻撃技(ねこだまし・カウンター・ミラーコートを除く)を多く選択するほど評価が上がり、まもる・みきり・こらえる・ねこだましを多く選択するほど評価が下がる。選択した技の種類で決まるので、技を出したかどうかは関係ない。</li>
                  <li>技：「的確に技を繰り出した者」。技を命中させるほど評価が上がり、命中しない・効果なし・失敗・PP切れの回数が多いほど評価が下がる。</li>
                  <li>体：「溢れる体力を持ちえる者」。判定のときに残っているHPの割合が多いほど評価が上がる。</li></ul>
                </li>
              </ul></div>
            </details>
          </details>

          <!-- Battle Pyramid -->

          <details>
            <summary class="h2">バトルピラミッド</summary>
            <details>
              <summary class="h3">ルール</summary>
              出典：<a href="https://wiki.xn--rckteqa2e.com/wiki/バトルピラミッド">ポケモンWiki</a>
              <div class="rule"><ul>
                <li>手持ちポケモンから3匹を選択して参加。真っ暗なピラミッドの中を歩き回り、野生ポケモンやトレーナーと戦いながら上への階段を探す。7つの階層をクリアしてピラミッド最上階にたどり着けばクリアとなる。</li>
                <li>ピラミッドの中は暗くて見通しがきかない。だが、野生ポケモンやトレーナーと戦って勝てば、主人公の周りが少しずつ明るくなって見えやすくなっていく。</li>
                <li>トレーナーに勝つと、階段の位置や道具についてのヒントがもらえる。</li>
                <li>バトルピラミッドの中には道具が落ちており、これを専用の鞄・「バトルバッグ」に入れて使うことができる。またピラミッド内で特性ものひろいの効果によって集めた道具も使える。使い切れなかったバトルバッグの道具は次回の挑戦に繰り越されるが、ピラミッド内でポケモンが全滅した場合は、集めた道具は没収される。</li>
                <li>戦闘後のポケモンの回復は行われない。</li>
                <li>野生ポケモンからは逃げることもできるが、逃走の成功率は低めになっている。特性「にげあし」を持つポケモンでも確定にはならない。</li>
                <li>ピラミッドを7階層突破するごとに、出現する野生ポケモンが変わる。</li>
                <li>移動中には回復道具の使用やポケモンの並び替えができる。</li>
                <li>バトルバッグに入れられる道具は10種類まで。</li>
                <li>7階層突破で1周。3周目と10周目の最後にはジンダイとのバトルになる。</li>
              </ul></div>
            </details>
            <form id="pyramid_form" name="PYRAMID">
          </details>

          <!-- Load Scripts. -->

          <script type="text/javascript" src="https://iwasakishuto.github.io/js/jquery.js"></script>

          <script type="text/javascript" src="https://iwasakishuto.github.io/js/tablefilter.js"></script>

          <script type="text/javascript" src="theme/js/pokeutils.js"></script>

          <script type="text/javascript" src="https://iwasakishuto.github.io/js/custom.js"></script>

          <!-- TableFilter Settings -->

          <script>
            var filtersConfig = {
              btn_reset: true,
              rows_counter: true,
              loader: true,
              status_bar: true,
              responsive: true,
              filters_row_index: 2,
              headers_row_index: 1,
              col_types: ['string',
                { type: 'formatted-number', decimal: '%', thousands: '.' },
                { type: 'formatted-number', decimal: '%', thousands: '.' },
                { type: 'formatted-number', decimal: '%', thousands: '.' },
                { type: 'formatted-number', decimal: '%', thousands: '.' },
                { type: 'formatted-number', decimal: '%', thousands: '.' },
                { type: 'formatted-number', decimal: '%', thousands: '.' },
              ],
              col_0: "checklist",
              col_widths: ['180px'],
              extensions:[{name: 'sort'}]
            };
            var tf = new TableFilter('seikaku_trend', filtersConfig, 2);
            tf.init();
          </script>

          <!-- My Pokemon Form -->

          <script>
            const MPtable = document.getElementById("my-pokemon");
            const MPT_base_statsIdx = 6;
            const MPT_ivIdx = 7;
            const MPT_evIdx = 8;
            const MPT_statsIdx = 9;
            // Set pokemon seletions.
            var select = document.getElementById("poke_name")
            for (let name in POKENAME2DATA) {
              let e = document.createElement("option");
              e.innerText = name
              select.appendChild(e)
            }
            function set_pokemon_options(MYPOKE){
              var pokename = MYPOKE.poke.value
              var data = POKENAME2DATA[pokename];
              // If pokemon has multiple abilities, show all.
              var ability_options = "";
              ability_options += "<option>" + data[Pdata_abilityIdx] + "</option>";
              if(data[Pdata_abilityIdx+1] != "") ability_options += '<option>' + data[Pdata_abilityIdx+1] + '</option>';
              MYPOKE.ability.innerHTML = ability_options;
              // Add sex option from sex description.
              var sex_options = "";
              var sex_desc = data[Pdata_sexIdx];
              if (["ふめい", "-"].indexOf(sex_desc) == -1){
                if (sex_desc != "♀のみ") sex_options += '<option>♂</option>';
                if (sex_desc != "♂のみ") sex_options += '<option>♀</option>';
              }
              MYPOKE.sex.innerHTML = sex_options;
              // Set Base States & Image.
              var base_states = MPtable.getElementsByTagName("tr")[MPT_base_statsIdx].querySelectorAll("td");
              for (let i=1; i<7; i++){
                base_states[i].innerHTML = data[Pdata_statusIdx+i-1];
              }
              MPtable.querySelector("img").setAttribute("src", data[Pdata_imgIdx]);
              calculate_mypoke_statistics(MYPOKE);
              generate_move_table(MYPOKE, document.PALACE);
            }
            function calculate_mypoke_statistics(MYPOKE){
              var poke_name = MYPOKE.poke.value;
              var lv = parseInt(MYPOKE.LV.value);
              var seikaku = parseInt(MYPOKE.seikaku.value);
              var ivals = [];
              var evals = [];
              var MPtrs = MPtable.getElementsByTagName("tr");
              // Get Individual values & Effort Values.
              var iv_inputs = MPtrs[MPT_ivIdx].querySelectorAll("input");
              var ev_inputs = MPtrs[MPT_evIdx].querySelectorAll("input");
              for (let i=0; i<6; i++){ivals.push(parseInt(iv_inputs[i].value))};
              for (let i=0; i<6; i++){evals.push(parseInt(ev_inputs[i].value))};
              // Calculate Statistics.
              var stats_tds = MPtrs[MPT_statsIdx].querySelectorAll("td");
              var stats = calculate_statistics(name=poke_name, ivals=ivals, evals=evals, seikaku=seikaku, lv=lv);
              for (let i=0; i<6; i++){
                stats_tds[i+1].innerHTML = stats[i];
              }
            }
          </script>

          <!-- Move List -->

          <script>
            function generate_move_table(MYPOKE, PALACE){
              var move_table = PALACE.querySelector("table#move_list");
              var pokename = MYPOKE.poke.value;
              var checkboxes = PALACE.palace_move_class;
              var type2appear={}
              PALACE.palace_move_class.forEach(function(e,i){type2appear[e.parentElement.textContent.slice(0,-1)] = e.checked})
              var move_tbody = ""
              var type2classname={"攻撃":"gp1","防御":"gp2","補助":"gp3",} 
              POKENAME2MOVE[pokename].forEach(function(e,i){
                let m = e.split(".")
                let d = MOVENAME2DATA[m[1]]
                let t = d[Mdata_palaceIdx]
                if (type2appear[t]){
                  move_tbody += "<tr class='" + type2classname[t] + "'><th>" + m[0] + "</td><th>" + m[1] + "</td><th>" + d[Mdata_typeIdx] + "</td><th>" + d[Mdata_powerIdx] + "</td><th>" + t + "</td></tr>"
                }
              })
              move_table.querySelector("tbody").innerHTML = move_tbody
            }
          </script>

          <!-- Factory Rental Pokemon -->

          <script>
            const sFixedIVTable = [
                [3,  6], // Fixed Ivs of MyPokemon & OpTrainer(~6th), That of OpTrainer(7th)
                [6,  9],
                [9,  12],
                [12, 15],
                [15, 18],
                [21, 31],
                [31, 31],
                [31, 31],
            ]
            const sInitialRentalMonRanges = [
                // Level 50.
                [110,199],
                [162,266],
                [267,371],
                [372,467],
                [468,563],
                [564,659],
                [660,755],
                [372,849],
                // Open Level.
                [372,467],
                [468,563],
                [564,659],
                [660,755],
                [372,881],
                [372,881],
                [372,881],
                [372,881],
            ]
            var challengeNum_area      = document.getElementById("challengeNum");
            var rentalRank_area        = document.getElementById("rentalRank");
            var monRange_area          = document.getElementById("monRange");
            var rental_pokemon_wrapper = document.getElementById("rental-pokemon-wrapper");
            var factory_box9_name      = document.getElementById("factory_box9");
            var id2rowIndex;
            function set_factory_condition(FACTORY){
              var lv = parseInt(document.getElementById("lv").value);
              var challengeNum = Math.min(parseInt(FACTORY.winStreak.value), 7);
              var rentalRank = parseInt(FACTORY.rentalCount.value);
              var LvlMode = parseInt(FACTORY.LvlMode.value);
              var monRanges = sInitialRentalMonRanges[LvlMode+challengeNum];
              var ivs = [sFixedIVTable[challengeNum][0]]
              var monRanges_str = `${monRanges.join("~")}(${ivs[0]})`;
              var monRanges_cond = `(${monRanges[0]} <= i && i <= ${monRanges[1]}) ? 1 : 0`
              if ((challengeNum < 7) && (rentalRank>0)){
                var monRanges = sInitialRentalMonRanges[LvlMode+challengeNum+1];
                ivs.push(sFixedIVTable[challengeNum+1][0])
                monRanges_str +=  `, ${monRanges.join("~")}(${ivs[1]})`
                monRanges_cond = monRanges_cond.slice(0,-1) + `(${monRanges[0]} <= i && i <= ${monRanges[1]}) ? 2 : 0`;
              }
              challengeNum_area.innerHTML = challengeNum
              rentalRank_area.innerHTML = rentalRank
              monRange_area.innerHTML = monRanges_str;
              // Generate Rental Pokemon Table.
              rental_pokemon_list = `<table id="rental-pokemon-list">
                <thead><tr><th>ID</th><th>No</th><th><input type="checkbox"/>ポケモン</th><th>もちもの</th><th>技1</th><th>技2</th><th>技3</th><th>技4</th><th>H</th><th>A</th><th>B</th><th>C</th><th>D</th><th>S</th><th>せいかく</th><th>H</th><th>A</th><th>B</th><th>C</th><th>D</th><th>S</th></tr></thead>
                <tbody id="rental-pokemon">
              `
              id2rowIndex = {}
              var rowIndex = 0
              RENTAL_POKEMON_LIST.forEach(function(e,i){
                var flag = eval(monRanges_cond)
                if (flag>0){
                  var iv = ivs[flag-1];
                  var rstats = calculate_statistics(e[2], [iv,iv,iv,iv,iv,iv], e.slice(10,16), e[9], lv=lv)
                  var tmp = e.slice(0,2);
                  tmp.push(`<label><input type="checkbox"/>${e[2]}</label>`)
                  tmp = tmp.concat(e.slice(4,9))
                  tmp = tmp.concat(rstats)
                  tmp = tmp.concat(e.slice(9))
                  rental_pokemon_list += "<tr><td>" + tmp.join("</td><td>") + "</td></tr>";
                  id2rowIndex[e[0]] = rowIndex++;
                }
              })
              rental_pokemon_wrapper.innerHTML = rental_pokemon_list + "</tbody></table>";
              rental_filterTable();
              // Coloring based on Nature.
              rental_pokemon_tbody = document.getElementById("rental-pokemon");
              rental_pokemon_tbody.querySelectorAll("tr").forEach(function(e){
                tds = e.querySelectorAll("td");
                seikaku_corr = seikakuid2corr[seikaku2id[tds[14].textContent]];
                for (let i=0; i<5; i++){
                  if (seikaku_corr[i]>1.0){
                    tds[9+i].style.backgroundColor = "hotpink";
                    tds[16+i].style.backgroundColor = "hotpink";
                  }else if(seikaku_corr[i]<1.0){
                    tds[9+i].style.backgroundColor = "cornflowerblue";
                    tds[16+i].style.backgroundColor = "cornflowerblue";
                  }
                }
              })
              // Initialization.
              TFselectedRows = [];
              generate_rental_pokemon_images()
            }
            function rental_filterTable(){
              var filtersConfig = {
                btn_reset: true,
                rows_counter: true,
                loader: true,
                status_bar: true,
                responsive: true,
                grid_layout: {
                  width: '100%',
                },
                col_3  : 'select',
                col_4  : 'none',
                col_5  : 'none',
                col_6  : 'none',
                col_7  : 'none',
                col_14 : 'select',
                col_21 : 'select',
                col_types: ['number', 'number', 'string', 'string', 'string', 'string', 'string', 'string', 'number', 'number', 'number', 'number', 'number', 'number', 'string', 'number', 'number', 'number', 'number', 'number', 'number', 'number'],
                col_widths: ['50px', '50px', '120px', '135px', '120px', '120px', '120px', '120px', '50px', '50px', '50px', '50px', '50px', '50px', '95px', '50px', '50px', '50px', '50px', '50px', '50px', '90px'],
                extensions:[{name: 'sort'}]
              };
              var tf = new TableFilter('rental-pokemon-list', filtersConfig);
              tf.init();
              initSelectionListeners(tf, c=2, d=0);
              // Improves the appearance when scrolling horizontally.
              document.querySelectorAll("#rental-pokemon-list tr").forEach(function(e,i){
                var tds = e.querySelectorAll("td")
                tds[0].classList.add("fixed-tcol");
                tds[1].classList.add("fixed-tcol");
                tds[2].classList.add("fixed-tcol");
              })
              document.querySelectorAll(".grd_headTblCont tr").forEach(function(e,i){
                var ths = e.querySelectorAll("th, td")
                ths[0].classList.add("fixed-tcol");
                ths[1].classList.add("fixed-tcol");
                ths[2].classList.add("fixed-tcol");
              })
              document.querySelector("div.grd_Cont").querySelectorAll("input[type='checkbox']").forEach(function(e,i){
                e.addEventListener("change", generate_rental_pokemon_images)
              })
            }
            var party_size = 6;
            var selected_rental_pokemon_images = document.getElementById("selected-rental-pokemon-images").querySelectorAll("img");
            function generate_rental_pokemon_images(){
              var rental_pokemon_trows = document.getElementById("rental-pokemon").querySelectorAll("tr");
              var tds = rental_pokemon_tbody;
              var curtPartyIndex = -1;
              TFselectedRows.slice(-6).forEach(function(e,i){
                let tds = rental_pokemon_trows[id2rowIndex[e]].querySelectorAll("td");
                let pokedata = POKENAME2DATA[tds[2].textContent];
                selected_rental_pokemon_images[i].setAttribute("src", pokedata[Pdata_imgIdx])
                curtPartyIndex = i;
              })
              for (let i=curtPartyIndex+1; i<party_size; i++){
                selected_rental_pokemon_images[i].setAttribute("src", "https://cdn.bulbagarden.net/upload/9/93/Bag_Pok%C3%A9_Ball_Sprite.png")
              }
            }
            var gRngValue;
            function find_desired_rental_seed(FACTORY){
              var target_pokemon_Id = TFselectedRows.slice(-6).map( str => parseInt(str, 10) );
              var challengeNum = parseInt(challengeNum_area.textContent);
              var rentalRank = parseInt(rentalRank_area.textContent);
              var lvMode = parseInt(FACTORY.LvlMode.value);
              var lb = parseInt(FACTORY.lb.value);
              var ub = parseInt(FACTORY.ub.value);
              if (lb>ub) ub=lb+100;
              var monIds=[0,0,0,0,0,0];
              var species=["","","","","",""];
              var heldItems=["","","","","",""];
              for (var seed=lb; seed<ub; seed++){
                gRngValue = seed;
                Random()
                var i=c=0;
                while (i != party_size){
                  if (c++ > 30) break
                  if (i < rentalRank){
                    monId = GetFactoryMonId(lvMode, challengeNum, true)
                  }else{
                    monId = GetFactoryMonId(lvMode, challengeNum, false)
                  }
                  for (var j=0; j<i; j++){
                    if ((monIds[j]==monId) || (species[j]==RENTAL_POKEMON_LIST[monId][Rental_Pokemon_nameIdx]) || (heldItems[j]==RENTAL_POKEMON_LIST[monId][Rental_Pokemon_itemIdx])) break;
                  }
                  if (j!=i) continue
                  monIds[i] = monId;
                  species[i] = RENTAL_POKEMON_LIST[monId][Rental_Pokemon_nameIdx];
                  heldItems[i] = RENTAL_POKEMON_LIST[monId][Rental_Pokemon_itemIdx];
                  i++;
                }
                if (target_pokemon_Id.every(tId => monIds.indexOf(tId)>=0)) break
              }
              FACTORY.frontierSeed.value = seed;
              generate_rental_pokemon(FACTORY);
              return false;
            }
            function generate_rental_pokemon(FACTORY){
              var seed = parseInt(FACTORY.frontierSeed.value);
              var target_pokemon_Id = TFselectedRows.slice(-6).map( str => parseInt(str, 10) );
              var challengeNum = parseInt(challengeNum_area.textContent);
              var rentalRank = parseInt(rentalRank_area.textContent);
              var lvMode = parseInt(FACTORY.LvlMode.value);
              var monIds=[0,0,0,0,0,0];
              var species=["","","","","",""];
              var heldItems=["","","","","",""];
              gRngValue = seed;
              Random()
              var i=c=0;
              while (i != party_size){
                if (c++ > 30) break
                if (i < rentalRank){
                  monId = GetFactoryMonId(lvMode, challengeNum, true)
                }else{
                  monId = GetFactoryMonId(lvMode, challengeNum, false)
                }
                for (var j=0; j<i; j++){
                  if ((monIds[j]==monId) || (species[j]==RENTAL_POKEMON_LIST[monId][Rental_Pokemon_nameIdx]) || (heldItems[j]==RENTAL_POKEMON_LIST[monId][Rental_Pokemon_itemIdx])) break;
                }
                if (j!=i) continue
                monIds[i] = monId;
                species[i] = RENTAL_POKEMON_LIST[monId][Rental_Pokemon_nameIdx];
                heldItems[i] = RENTAL_POKEMON_LIST[monId][Rental_Pokemon_itemIdx];
                i++;
              }
              // Generate Party Images.
              document.querySelectorAll("tr#generated_rental_party td").forEach(function(e,i){
                e.querySelector("img").setAttribute("src", POKENAME2DATA[species[i]][Pdata_imgIdx])
                if (target_pokemon_Id.indexOf(monIds[i])>=0){
                  e.classList.add("g3")
                }
                else{
                  e.classList.remove("g3")
                }
              })
              // Calculate Box Name
              var box9 = ""
              seed = decimal2hex(seed);
              pre_seeds  = useAuxiliary_4(seed.slice(-8,-4));
              post_seeds = useAuxiliary_4(seed.slice(-4));
              [post_seeds[0], pre_seeds[0], post_seeds[1], pre_seeds[1]].forEach(function(e,i){
                box9 += decode2Pokestring(e);
              })
              factory_box9_name.innerHTML = "[" + box9 + "]";
              return false;
            }
            function Random(){
              gRngValue = makeR(gRngValue)
              return gRngValue >>> 16;
            }
            function GetFactoryMonId(lvlMode, challengeNum, useBetterRange){
              if (challengeNum < 7){
                if (useBetterRange){
                    numMons = (sInitialRentalMonRanges[lvlMode + challengeNum + 1][1] - sInitialRentalMonRanges[lvlMode + challengeNum + 1][0]) + 1;
                    monId = Random() % numMons;
                    monId += sInitialRentalMonRanges[lvlMode + challengeNum + 1][0];
                }
                else{
                    numMons = (sInitialRentalMonRanges[lvlMode + challengeNum][1] - sInitialRentalMonRanges[lvlMode + challengeNum][0]) + 1;
                    monId = Random() % numMons;
                    monId += sInitialRentalMonRanges[lvlMode + challengeNum][0];
                }
              }else{
                  challengeNum = 7;
                  numMons = (sInitialRentalMonRanges[lvlMode + challengeNum][1] - sInitialRentalMonRanges[lvlMode + challengeNum][0]) + 1;
                  monId = Random() % numMons;
                  monId += sInitialRentalMonRanges[lvlMode + challengeNum][0];
              }
              return monId;
            }
          </script>

          <!-- On load -->

          <script>
            window.onload = function(){
              // My Pokemon Forms.
              var mypoke_form = document.getElementById("mypoke_form");
              for(let i=0; i<mypoke_form.length; i++){
                let e = mypoke_form.elements[i];
                if (e.id == "poke_name"){
                  e.onchange = function(){
                    set_pokemon_options(document.MYPOKE);
                  };
                }else{
                  e.onkeyup = function(){
                    calculate_mypoke_statistics(document.MYPOKE);
                  };
                  e.onchange = function(){
                    calculate_mypoke_statistics(document.MYPOKE);
                  };
                }
              }
              set_pokemon_options(document.MYPOKE);
              // Battle Palace.
              var palace_form = document.getElementById("palace_form");
              var palace_move_table = document.getElementById("move_list");
              for(let i=0; i<palace_form.length; i++){
                let e = palace_form.elements[i];
                if (e.id == "show_palace_move_table"){
                  e.addEventListener('change', function(evt){
                    palace_move_table.style.display = e.checked ? "table" : "none";
                  });
                }else{
                  e.addEventListener('change', function(){
                    generate_move_table(document.MYPOKE, document.PALACE);
                  });
                }
              }
              generate_move_table(document.MYPOKE, document.PALACE);
              // Battle Factory
              var rental_pokemon_form = document.querySelectorAll("form#factory_form table#rental-pokemon-form select");
              for(let i=0; i<rental_pokemon_form.length; i++){
                let e = rental_pokemon_form[i];
                e.addEventListener('change', function(){
                  set_factory_condition(document.FACTORY);
                });
              }
              set_factory_condition(document.FACTORY);
              document.FACTORY.frontierSeed.addEventListener('change', function(){
                generate_rental_pokemon(document.FACTORY);
              });
              generate_rental_pokemon(document.FACTORY);
            }
          </script>

          <!-- Stylesheet -->

          <style>
            table#my-pokemon *{
              vertical-align: middle;
              text-align: center;
            }
            table#my-pokemon select, table#my-pokemon input{
              border: 0;
              padding: .5em .4em;
              background-color: transparent;
              font-family: Monaco, monospace, sans-serif;
            }
            table#my-pokemon select{
              width: 100%;
            }
            table#my-pokemon tr:not(.only-text) td{
              padding: 0;
            }
            .g1{
              background-color: lightgoldenrodyellow;
            }
            .g2{
              background-color: azure;
            }
            .g3 {
              background-color: lightgreen;
            }
            .gp1{
              background-color: #ffcfdf;
            }
            .gp2{
              background-color: #a5dee5;
            }
            .gp3{
              background-color: #e0f9b5;
            }
            div.overflow-ms{
              width: 32px;
              height: 32px;
              overflow: visible;
              display: inline-flex;
              align-items: center;
              justify-content: center;
              pointer-events: none;
            }
            div.overflow-ms img {
              border: 0!important;
              margin: 0!important;
              padding: 0!important;
              width: 200%!important;
              vertical-align: middle;
            }
            table.fixed{
              table-layout: fixed;
            }
            table#rental-pokemon-form *, table#selected-rental-pokemon *{
              vertical-align: middle;
              text-align: center;
            }
            table#rental-pokemon-form select, table#selected-rental-pokemon input {
              width: 100%;
              border: 0;
              background-color: transparent;
              font-family: Monaco, monospace, sans-serif;
            }
            a.btn--click {
              color: #fff;
              background-color: black;
              border-bottom: 5px solid black;
              display: inline-block;
              padding: 0.3em 1em;
              text-decoration: none;
            }
            a.btn--click:hover {
              margin-top: 3px;
              color: #fff;
              background: black;
              border-bottom: 2px solid black;
            }
            table#selected-rental-pokemon a.btn--blue {
              background-color: #04aee2;
              border-bottom-color: #008db8;
            }
            table#selected-rental-pokemon a.btn--blue:hover{
              background: #04aee2;
              border-bottom-color: #008db8;
            }
            table#selected-rental-pokemon a.btn--red {
              background-color: #c94663;
              border-bottom-color: #8a1010;
            }
            table#selected-rental-pokemon a.btn--red:hover{
              background: #c94663;
              border-bottom-color: #8a1010;
            }
            table#selected-rental-pokemon a.btn--shadow {
              -webkit-box-shadow: 0 3px 5px rgba(0, 0, 0, .3);
              box-shadow: 0 3px 5px rgba(0, 0, 0, .3);
            }
          </style>
        
        </div><!-- /.entry-content -->
    
      </article>
    </section>
    <section id="extras" class="body">
      <div class="blogroll">
        <h5>other contents</h5>
        <ul>
          <li><a href="https://iwasakishuto.github.io"><img class="social-img" src="https://iwasakishuto.github.io/images/apple-touch-icon/Home.png">Home</a></li>
          <li><a href="https://iwasakishuto.github.io/Blog/index.html"><img class="social-img" src="https://iwasakishuto.github.io/images/apple-touch-icon/Blog.png">Blog</a></li>
          <li><a href="https://iwasakishuto.github.io/University/index.html"><img class="social-img" src="https://iwasakishuto.github.io/images/apple-touch-icon/University.png">University</a></li>
          <li><a href="https://iwasakishuto.github.io/Kerasy/index.html"><img class="social-img" src="https://iwasakishuto.github.io/images/apple-touch-icon/Kerasy.png">Kerasy</a></li>
          <li><a href="https://iwasakishuto.github.io/Python-Charmers/index.html"><img class="social-img" src="https://iwasakishuto.github.io/images/apple-touch-icon/Python-Charmers.png">Python-Charmers</a></li>
          <li><a href="https://iwasakishuto.github.io/Translation-Gummy/index.html"><img class="social-img" src="https://iwasakishuto.github.io/images/apple-touch-icon/Translation-Gummy.png">Translation-Gummy</a></li>
        </ul>
      </div><!-- /.blogroll -->
      <div class="social">
        <h5>social</h5>
        <ul>
          <li><a href="https://twitter.com/cabernet_rock">twitter</a></li>
          <li><a href="https://github.com/iwasakishuto">github</a></li>
        </ul>
      </div><!-- /.social -->
    </section><!-- /#extras -->

    <footer id="contentinfo" class="body">
      <p>Powered by <a href="https://getpelican.com/">Pelican</a>. Theme <a href="https://github.com/blueicefield/pelican-blueidea/">blueidea</a>, inspired by the default theme.</p>
    </footer><!-- /#contentinfo -->
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-164333757-3']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
  </body>
</html>